{"remainingRequest":"/Users/haopeiwei/Documents/hpw/web-board/konva-board/node_modules/babel-loader/lib/index.js!/Users/haopeiwei/Documents/hpw/web-board/konva-board/node_modules/eslint-loader/index.js??ref--13-0!/Users/haopeiwei/Documents/hpw/web-board/konva-board/src/page/rotate.js","dependencies":[{"path":"/Users/haopeiwei/Documents/hpw/web-board/konva-board/src/page/rotate.js","mtime":1612432200113},{"path":"/Users/haopeiwei/Documents/hpw/web-board/konva-board/node_modules/cache-loader/dist/cjs.js","mtime":1591588454175},{"path":"/Users/haopeiwei/Documents/hpw/web-board/konva-board/node_modules/babel-loader/lib/index.js","mtime":1591149279866},{"path":"/Users/haopeiwei/Documents/hpw/web-board/konva-board/node_modules/eslint-loader/index.js","mtime":1591241791494}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEtvbnZhIGZyb20gImtvbnZhIjsKCnZhciByb3RhdGVQb2ludCA9IGZ1bmN0aW9uIHJvdGF0ZVBvaW50KF9yZWYsIHJhZCkgewogIHZhciB4ID0gX3JlZi54LAogICAgICB5ID0gX3JlZi55OwogIHZhciByY29zID0gTWF0aC5jb3MocmFkKTsKICB2YXIgcnNpbiA9IE1hdGguc2luKHJhZCk7CiAgcmV0dXJuIHsKICAgIHg6IHggKiByY29zIC0geSAqIHJzaW4sCiAgICB5OiB5ICogcmNvcyArIHggKiByc2luCiAgfTsKfTsKCnZhciByb3RhdGVBcm91bmRDZW50ZXIgPSBmdW5jdGlvbiByb3RhdGVBcm91bmRDZW50ZXIobm9kZSwgcm90YXRpb24pIHsKICB2YXIgdG9wTGVmdCA9IHsKICAgIHg6IC1ub2RlLndpZHRoKCkgLyAyLAogICAgeTogLW5vZGUuaGVpZ2h0KCkgLyAyCiAgfTsKICB2YXIgY3VycmVudCA9IHJvdGF0ZVBvaW50KHRvcExlZnQsIEtvbnZhLmdldEFuZ2xlKG5vZGUucm90YXRpb24oKSkpOwogIHZhciByb3RhdGVkID0gcm90YXRlUG9pbnQodG9wTGVmdCwgS29udmEuZ2V0QW5nbGUocm90YXRpb24pKTsKICB2YXIgZHggPSByb3RhdGVkLnggLSBjdXJyZW50LngsCiAgICAgIGR5ID0gcm90YXRlZC55IC0gY3VycmVudC55OwogIG5vZGUucm90YXRpb24ocm90YXRpb24pOwogIG5vZGUueChub2RlLngoKSArIGR4KTsKICBub2RlLnkobm9kZS55KCkgKyBkeSk7Cn07CgpleHBvcnQgeyByb3RhdGVBcm91bmRDZW50ZXIgfTs="},{"version":3,"sources":["/Users/haopeiwei/Documents/hpw/web-board/konva-board/src/page/rotate.js"],"names":["Konva","rotatePoint","rad","x","y","rcos","Math","cos","rsin","sin","rotateAroundCenter","node","rotation","topLeft","width","height","current","getAngle","rotated","dx","dy"],"mappings":"AACE,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAWC,GAAX,EAAmB;AAAA,MAAhBC,CAAgB,QAAhBA,CAAgB;AAAA,MAAbC,CAAa,QAAbA,CAAa;AACrC,MAAMC,IAAI,GAAGC,IAAI,CAACC,GAAL,CAASL,GAAT,CAAb;AACA,MAAMM,IAAI,GAAGF,IAAI,CAACG,GAAL,CAASP,GAAT,CAAb;AACA,SAAO;AAAEC,IAAAA,CAAC,EAAEA,CAAC,GAAGE,IAAJ,GAAWD,CAAC,GAAGI,IAApB;AAA0BJ,IAAAA,CAAC,EAAEA,CAAC,GAAGC,IAAJ,GAAWF,CAAC,GAAGK;AAA5C,GAAP;AACD,CAJD;;AAMA,IAAME,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,IAAD,EAAOC,QAAP,EAAmB;AAC5C,MAAMC,OAAO,GAAG;AAAEV,IAAAA,CAAC,EAAE,CAACQ,IAAI,CAACG,KAAL,EAAD,GAAgB,CAArB;AAAwBV,IAAAA,CAAC,EAAE,CAACO,IAAI,CAACI,MAAL,EAAD,GAAiB;AAA5C,GAAhB;AACA,MAAMC,OAAO,GAAGf,WAAW,CAACY,OAAD,EAAUb,KAAK,CAACiB,QAAN,CAAeN,IAAI,CAACC,QAAL,EAAf,CAAV,CAA3B;AACA,MAAMM,OAAO,GAAGjB,WAAW,CAACY,OAAD,EAAUb,KAAK,CAACiB,QAAN,CAAeL,QAAf,CAAV,CAA3B;AACA,MAAMO,EAAE,GAAGD,OAAO,CAACf,CAAR,GAAYa,OAAO,CAACb,CAA/B;AAAA,MACEiB,EAAE,GAAGF,OAAO,CAACd,CAAR,GAAYY,OAAO,CAACZ,CAD3B;AAEAO,EAAAA,IAAI,CAACC,QAAL,CAAcA,QAAd;AACAD,EAAAA,IAAI,CAACR,CAAL,CAAOQ,IAAI,CAACR,CAAL,KAAWgB,EAAlB;AACAR,EAAAA,IAAI,CAACP,CAAL,CAAOO,IAAI,CAACP,CAAL,KAAWgB,EAAlB;AACD,CATD;;AAWA,SAASV,kBAAT","sourcesContent":["\n  import Konva from \"konva\";\n  \n  const rotatePoint = ({ x, y }, rad) => {\n    const rcos = Math.cos(rad);\n    const rsin = Math.sin(rad);\n    return { x: x * rcos - y * rsin, y: y * rcos + x * rsin };\n  };\n\n  const rotateAroundCenter = (node, rotation) =>{\n    const topLeft = { x: -node.width() / 2, y: -node.height() / 2 };\n    const current = rotatePoint(topLeft, Konva.getAngle(node.rotation()));\n    const rotated = rotatePoint(topLeft, Konva.getAngle(rotation));\n    const dx = rotated.x - current.x,\n      dy = rotated.y - current.y;\n    node.rotation(rotation);\n    node.x(node.x() + dx);\n    node.y(node.y() + dy);\n  };\n\n  export { rotateAroundCenter }"]}]}